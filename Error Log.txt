user_id UUID PRIMARY KEY DEFAULT gen_random_uuid() [users Table]

task_id UUID PRIMARY KEY DEFAULT uuid_generate_v4() [tasks Table]
board_id UUID NOT NULL [tasks Table] (REFERENCES board_id of boards table)
assigned_to UUID [tasks Table] (REFERENCES user_id of users Table)
created_by UUID NOT NULL [tasks Table] (REFERENCES user_id of users Table)

board_id UUID PRIMARY KEY DEFAULT uuid_generate_v4() [boards Table] 
created_by UUID NOT NULL [boards Table] (REFERENCES user_id of users Table)

board_member_id UUID PRIMARY KEY DEFAULT uuid_generate_v4() [board_members_table]
board_id UUID NOT NULL [board_members_table] (REFERENCES board_id of boards Table)
user_id UUID NOT NULL [board_members_table] (REFERENCES user_id of users Table)

CONSTRAINT users_pkey PRIMARY KEY(user_id) [users Table]

CONSTRAINT tasks_assigned_to_fkey FOREIGN KEY(assigned_to) REFERENCES public.users(user_id) ON DELETE SET NULL [tasks Table]
CONSTRAINT tasks_board_id_fkey FOREIGN KEY(board_id) REFERENCES public.boards(board_id) ON DELETE CASCADE [tasks Table]
CONSTRAINT tasks_created_by_fkey FOREIGN KEY(created_by) REFERENCES public.users(user_id)
ON DELETE CASCADE [tasks Table]
CONSTRAINT tasks_pkey PRIMARY KEY(task_id) [tasks Table]

CONSTRAINT fk_boards_created_by FOREIGN KEY(created_by) REFERENCES public.users(user_id) [boards Table]
CONSTRAINT boards_pkey PRIMARY KEY(board_id)

CONSTRAINT board_members_board_id_fkey FOREIGN KEY(board_id) REFERENCES public.board(board_id)
ON DELETE CASCADE [board_members Table]
CONSTRAINT board_members_user_id_fkey FOREIGN KEY(user_id) REFERENCES public.users(user_id)
ON DELETE CASCADE [board_members Table]
CONSTRAINT fk_board_members_board FOREIGN KEY(board_id) REFERENCES public.boards(board_id) [board_members Table]
CONSTRAINT fk_board_members_user FOREIGN KEY(user_id) REFERENCES public.users(user_id) [board_members Table]
CONSTRAINT board_members_board_id_user_id_key UNIQUE (board_id, user_id) [board_members Table]
CONSTRAINT board_members_pkey PRIMARY KEY(board_member_id)

					|
					|
					|
					|
					|
					V

user_id VARCHAR(255) PRIMARY KEY UNIQUE NOT NULL [users Table]

task_id VARCHAR(255) PRIMARY KEY UNIQUE NOT NULL [tasks Table]
board_id VARCHAR(255) NOT NULL [tasks Table] (REFERENCES board_id of boards table)
assigned_to VARCHAR(255) [tasks Table] (REFERENCES user_id of users Table)
created_by VARCHAR(255) NOT NULL [tasks Table] (REFERENCES user_id of users Table)

board_id VARCHAR(255) PRIMARY KEY UNIQUE NOT NULL [boards Table] 
created_by VARCHAR(255) NOT NULL [boards Table] (REFERENCES user_id of users Table)

board_member_id VARCHAR(255) PRIMARY KEY UNIQUE NOT NULL [board_members_table]
board_id VARCHAR(255) NOT NULL [board_members_table] (REFERENCES board_id of boards Table)
user_id VARCHAR(255) NOT NULL [board_members_table] (REFERENCES user_id of users Table)


board_members table:
CONSTRAINT board_members_board_id_fkey FOREIGN KEY(board_id) REFERENCES public.boards(board_id) ON DELETE CASCADE
CONSTRAINT board_members_user_id_fkey FOREIGN KEY(user_id) REFERENCES public.users(user_id)
ON DELETE CASCADE
CONSTRAINT board_member_id_unique UNIQUE(board_member_id)
CONSTRAINT board_members_board_id_user_id_key UNIQUE(board_id, user_id)
CONSTRAINT board_members_pkey PRIMARY KEY(board_member_id)

boards table:
CONSTRAINT fk_boards_created_by FOREIGN KEY(created_by) REFERENCES public.users(user_id)
CONSTRAINT board_id_unique UNIQUE(board_id)
CONSTRAINT boards_pkey PRIMARY KEY(board_id)

tasks table:
CONSTRAINT tasks_assigned_to_fkey FOREIGN KEY(assigned_to) REFERENCES public.users(user_id)
ON DELETE SET NULL
CONSTRAINT tasks_board_id_fkey FOREIGN KEY(board_id) REFERENCES public.boards(board_id)
ON DELETE CASCADE
CONSTRAINT tasks_created_by_fkey FOREIGN KEY(created_by) REFERENCES public.users(user_id)
ON DELETE CASCADE
CONSTRAINT task_id_unique UNIQUE (task_id)
CONSTRAINT tasks_pkey PRIMARY KEY(task_id)

users table:
CONSTRAINT user_id_unique UNIQUE(user_id)
CONSTRAINT users_email_key UNIQUE(email)
CONSTRAINT users_username_key UNIQUE(username)
CONSTRAINT users_pkey PRIMARY KEY(user_id)

user_36i2I6SVMQN4uO06OEvikb7Gxou
user_36i2I6SVMQN4uO06OEvikb7Gxou
